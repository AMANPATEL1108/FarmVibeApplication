<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Completed Orders | Farm Vibe Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

<!-- Page Title -->
<div class="text-center mt-10 animate-fade-in-up">
    <h1 class="text-3xl font-bold text-green-700">Completed Orders</h1>
    <p class="text-gray-600 mt-1">All orders that are fully delivered and paid</p>
</div>

<!-- Orders Table -->
<div class="max-w-7xl mx-auto bg-white p-6 mt-8 rounded-lg shadow-lg animate-fade-in-up overflow-x-auto mb-10">
    <table class="min-w-full text-sm text-left text-gray-700 table-auto">
        <thead class="bg-gray-100 uppercase text-xs text-gray-600">
        <tr>
            <th class="px-4 py-3">#</th>
            <th class="px-4 py-3">Customer</th>
            <th class="px-4 py-3">Address</th>
            <th class="px-4 py-3">Order Details</th>
            <th class="px-4 py-3">Category</th>
            <th class="px-4 py-3">Payment Status</th>
            <th class="px-4 py-3">Delivery Status</th>
            <th class="px-4 py-3">Order Date</th>
            <th class="px-4 py-3">Requested Delivery Date</th>
            <th class="px-4 py-3">Confirmed</th>
            <!-- New header for More Details -->
            <th class="px-4 py-3">More Details</th>
        </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 font-medium">1</td>
            <td class="px-4 py-3">Amit Kumar</td>
            <td class="px-4 py-3">123 Green Street, Delhi</td>
            <td class="px-4 py-3">
                2kg Organic Mangoes<br>1kg Basmati Rice
            </td>
            <td class="px-4 py-3">Fruits, Grains</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-green-100 text-green-700 rounded">Paid</span>
            </td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-green-100 text-green-700 rounded">Delivered</span>
            </td>
            <td class="px-4 py-3">2025-05-18</td>
            <td class="px-4 py-3">2025-05-25</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-blue-100 text-blue-700 rounded">Confirmed</span>
            </td>
            <!-- New More Details button -->
            <td class="px-4 py-3">
                <button
                        onclick="showDetails(this)"
                        class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition"
                >
                    View
                </button>
            </td>
        </tr>

        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 font-medium">2</td>
            <td class="px-4 py-3">Riya Sharma</td>
            <td class="px-4 py-3">45 Sunrise Avenue, Mumbai</td>
            <td class="px-4 py-3">
                1L Organic Milk<br>500g Cheese
            </td>
            <td class="px-4 py-3">Dairy</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-yellow-100 text-yellow-700 rounded">Unpaid</span>
            </td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-red-100 text-red-700 rounded">Not Delivered</span>
            </td>
            <td class="px-4 py-3">2025-05-19</td>
            <td class="px-4 py-3">2025-05-27</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-gray-100 text-gray-700 rounded">Pending</span>
            </td>
            <td class="px-4 py-3">
                <button
                        onclick="showDetails(this)"
                        class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition"
                >
                    View
                </button>
            </td>
        </tr>

        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 font-medium">3</td>
            <td class="px-4 py-3">Sameer Khan</td>
            <td class="px-4 py-3">88 Eco Park Road, Bengaluru</td>
            <td class="px-4 py-3">
                3kg Potatoes<br>2kg Tomatoes
            </td>
            <td class="px-4 py-3">Vegetables</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-green-100 text-green-700 rounded">Paid</span>
            </td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-yellow-100 text-yellow-700 rounded">In Transit</span>
            </td>
            <td class="px-4 py-3">2025-05-20</td>
            <td class="px-4 py-3">2025-05-26</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold bg-blue-100 text-blue-700 rounded">Confirmed</span>
            </td>
            <td class="px-4 py-3">
                <button
                        onclick="showDetails(this)"
                        class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition"
                >
                    View
                </button>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Details Modal -->
<div id="detailsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-6 rounded-lg shadow-xl w-96 max-w-full animate-fade-in-up relative">
        <h2 class="text-2xl font-semibold mb-4">Order Details</h2>
        <div class="space-y-2">
            <p><strong>Customer:</strong> <span id="modalCustomer"></span></p>
            <p><strong>Address:</strong> <span id="modalAddress"></span></p>
            <p><strong>Order Details:</strong> <span id="modalOrderDetails"></span></p>
            <p><strong>Category:</strong> <span id="modalCategory"></span></p>
            <p><strong>Payment Status:</strong> <span id="modalPaymentStatus"></span></p>
            <p><strong>Delivery Status:</strong> <span id="modalDeliveryStatus"></span></p>
            <p><strong>Order Date:</strong> <span id="modalOrderDate"></span></p>
            <p><strong>Requested Delivery Date:</strong> <span id="modalRequestedDelivery"></span></p>
            <p><strong>Confirmed:</strong> <span id="modalConfirmed"></span></p>
        </div>
        <button onclick="closeDetails()" class="absolute top-3 right-3 text-gray-600 hover:text-gray-900 text-lg font-bold">×</button>
    </div>
</div>

<!-- Back Button -->
<div class="text-center mb-10 animate-fade-in-up">
    <a
            href="/admin/pageUrl?page=aorders"
            class="inline-block px-6 py-2 text-sm font-semibold text-white bg-gray-600 hover:bg-gray-700 rounded transition duration-300 mb-10">
        ← Back to Orders
    </a>
</div>

<script>
    function showDetails(button) {
        // Find the table row containing this button
        const row = button.closest('tr');
        const cells = row.querySelectorAll('td');

        // Map cell data to modal
        document.getElementById('modalCustomer').textContent = cells[1].textContent;
        document.getElementById('modalAddress').textContent = cells[2].textContent;
        document.getElementById('modalOrderDetails').innerHTML = cells[3].innerHTML;
        document.getElementById('modalCategory').textContent = cells[4].textContent;
        document.getElementById('modalPaymentStatus').innerHTML = cells[5].innerHTML;
        document.getElementById('modalDeliveryStatus').innerHTML = cells[6].innerHTML;
        document.getElementById('modalOrderDate').textContent = cells[7].textContent;
        document.getElementById('modalRequestedDelivery').textContent = cells[8].textContent;
        document.getElementById('modalConfirmed').innerHTML = cells[9].innerHTML;

        // Show the modal
        document.getElementById('detailsModal').classList.remove('hidden');
    }

    function closeDetails() {
        document.getElementById('detailsModal').classList.add('hidden');
    }

    // Optional: Close modal on clicking outside the modal content
    window.addEventListener('click', function(event) {
        const modal = document.getElementById('detailsModal');
        if (event.target === modal) {
            closeDetails();
        }
    });
</script>
</body>
</html>
